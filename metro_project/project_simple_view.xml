<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>  
        <record model="ir.ui.view" id="metro_project_simple_form_view">
            <field name="name">metro_project_simple_form_view</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.edit_project"/>
            <field name="arch" type="xml">
            	<field name="name" position="after">
            		<field name="project_type" invisible="1"/>
            	</field>
            </field>
        </record>    
        <record model="ir.ui.view" id="metro_project_task_simple_form_view">
            <field name="name">metro_project_task_simple_form_view</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_form2"/>
            <field name="arch" type="xml">
            	<field name="name" position="after">
            		<field name="project_type" invisible="1"/>
            	</field>
            	<!-- move description to main page from the 'Work Hours' page. -->
				<field name="description" position="replace">
				</field>
				<xpath expr="//notebook" position="before">
					<field name="description" attrs="{'readonly':[('state','=','done')]}" placeholder="Add a Description..."/>
				</xpath>
				<xpath expr="//page[@string='Description']" position="attributes">
					<attribute name="string">Work Hours</attribute>
					<attribute name="name">work_hours</attribute>
				</xpath>      	
				<!-- Add multi images -->
				<page string='Extra Info' position='after'>
                    <page string="Images">
                        <field name="multi_images" widget="image_multi"/>
                    </page>
				</page>         
            </field>
        </record>    
<!-- the original projects menu only display the simple projects -->
        <record id="project.open_view_project_all" model="ir.actions.act_window">
            <field name="name">Projects</field>
            <field name="res_model">project.project</field>
            <field name="domain">['|',('project_type','=',False),('project_type','=','simple')]</field>
            <field name="context">{'default_project_type':'simple'}</field>
        </record>
<!-- the original tasks menu only display the simple projects -->
        <record id="project.action_view_task" model="ir.actions.act_window">
            <field name="name">Tasks</field>
            <field name="res_model">project.task</field>
            <field name="domain">[('project_type','=','simple')]</field>
            <field name="context">{'default_project_type':'simple'}</field>
        </record>             

<!-- Add project_type to project.task.type tree view -->
        <record id="task_type_tree_extend" model="ir.ui.view">
            <field name="name">task_type_tree_extend</field>
            <field name="model">project.task.type</field>
            <field name="inherit_id" ref="project.task_type_tree"/>
            <field name="arch" type="xml">
            	<xpath expr="//tree" position="attributes">
            		<attribute name="editable">top</attribute>
            	</xpath>
            	<field name="name" position="before">
            		<field name="sequence"/>
            	</field>
            	<field name="state" position="after">
            		<field name="project_type"/>
            		<field name="case_default"/>
            		<field name="fold"/>
            		<field name="description"/>
            	</field>
            </field>
        </record>        
    </data>
</openerp>
