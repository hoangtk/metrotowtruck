<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    <record model="ir.ui.view" id="view_cash_bank_trans_form">
    	<field name="name">view_cash_bank_trans_form</field>
    	<field name="model">cash.bank.trans</field>
    	<field name="arch" type="xml">
    		<form string="Withdraw/Deposit Order" version="7.0">
    			<header>
    				<button name="action_done" string="Confirm" states="draft" class="oe_highlight" type="object" groups="account.group_account_invoice"/>
    				<button name="action_cancel" string="Cancel" states="done" type="object" groups="account.group_account_manager"/>
    				<button name="action_to_draft" string="Set to Draft" states="cancelled" type="object" groups="account.group_account_manager"/>
    				<field name="state" widget="statusbar" statusbar_visible="draft,done"/>
    			</header>
                <group>
	                <group>
	                    <field name="id" readonly="1"/>
	                    <field name="date"/>
	                    <field name="trans_type"/>
	                    <field name="amount"/>
	                </group>
	                <group>
	                    <field name="journal_cash_id" domain="[('type','=','cash')]"/>
	                    <field name="journal_bank_id" domain="[('type','=','bank')]"/>
	                    <field name="move_id" readonly="1"/>
	            		<field name="company_id" groups="base.group_multi_company"/>
	                </group>
                </group>
                <label for='description'/>
                <field name="description" placeholder='Description...'/>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_cash_bank_trans_tree">
    	<field name="name">view_cash_bank_trans_tree</field>
    	<field name="model">cash.bank.trans</field>
    	<field name="arch" type="xml">
            <tree string="Withdraw/Deposit Order">
                    <field name="id"/>
                    <field name="date"/>
                    <field name="trans_type"/>
                    <field name="amount"/>
                    <field name="journal_cash_id" domain="[('type','=','cash')]"/>
                    <field name="journal_bank_id" domain="[('type','=','bank')]"/>
                    <field name="description"/>
    				<field name="state"/>
            		<field name="company_id" groups="base.group_multi_company"/>
            </tree>
      </field>
    </record>
    
    <record model="ir.ui.view" id="view_cash_bank_trans_search">
            <field name="name">view_cash_bank_trans_search</field>
            <field name="model">cash.bank.trans</field>
            <field name="arch" type="xml">
                <search string="Search Withdraw/Deposit Order">
                    <field name="id"/>
                    <field name="date"/>
                    <field name="trans_type"/>
                    <field name="journal_cash_id"/>
                    <field name="journal_bank_id"/>
                    <field name="description"/>
                    
                    <filter icon="terp-document-new" name="withdraw" string="Withdraw" domain="[('trans_type','=','withdraw')]"/>
                    <filter icon="terp-document-new" name="deposit" string="Deposit" domain="[('trans_type','=','deposit')]"/>
                </search>
            </field>
    </record>    

    <record model="ir.actions.act_window" id="action_cash_bank_trans">
        <field name="name">Withdraw/Deposit Order</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">cash.bank.trans</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="view_cash_bank_trans_search"/>
    </record>  
		
    <menuitem
        id="menu_cash_bank_trans"
        sequence="1"
        parent="account.menu_finance_bank_and_cash"
        action="action_cash_bank_trans"
        groups="account.group_account_invoice"/>
        
    </data>
</openerp>
